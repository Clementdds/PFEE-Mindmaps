!function(e){function t(t){for(var n,l,i=t[0],s=t[1],c=t[2],u=0,p=[];u<i.length;u++)l=i[u],Object.prototype.hasOwnProperty.call(a,l)&&a[l]&&p.push(a[l][0]),a[l]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);for(d&&d(t);p.length;)p.shift()();return o.push.apply(o,c||[]),r()}function r(){for(var e,t=0;t<o.length;t++){for(var r=o[t],n=!0,i=1;i<r.length;i++){var s=r[i];0!==a[s]&&(n=!1)}n&&(o.splice(t--,1),e=l(l.s=r[0]))}return e}var n={},a={0:0},o=[];function l(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,l),r.l=!0,r.exports}l.m=e,l.c=n,l.d=function(e,t,r){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},l.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(l.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)l.d(r,n,function(t){return e[t]}.bind(null,n));return r},l.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="";var i=window.webpackJsonp=window.webpackJsonp||[],s=i.push.bind(i);i.push=t,i=i.slice();for(var c=0;c<i.length;c++)t(i[c]);var d=s;o.push([174,1,4,2,5,3]),r()}({146:function(e,t,r){var n=r(63),a=r(147);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var o={insert:"head",singleton:!1};n(a,o);e.exports=a.locals||{}},147:function(e,t,r){(t=r(64)(!1)).push([e.i,'body{margin:0;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Roboto","Oxygen","Ubuntu","Cantarell","Fira Sans","Droid Sans","Helvetica Neue",sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}code{font-family:source-code-pro,Menlo,Monaco,Consolas,"Courier New",monospace}',""]),e.exports=t},148:function(e,t,r){var n=r(63),a=r(149);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var o={insert:"head",singleton:!1};n(a,o);e.exports=a.locals||{}},149:function(e,t,r){(t=r(64)(!1)).push([e.i,".App{text-align:center}.App-logo{height:40vmin;pointer-events:none}@media(prefers-reduced-motion: no-preference){.App-logo{animation:App-logo-spin infinite 20s linear}}.App-header{background-color:#282c34;min-height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:center;font-size:calc(10px + 2vmin);color:#fff}.App-link{color:#61dafb}.Viewer-div{overflow-x:scroll !important}@keyframes App-logo-spin{from{transform:rotate(0deg)}to{transform:rotate(360deg)}}",""]),e.exports=t},160:function(e,t){},162:function(e,t){},174:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),o=r(34),l=r.n(o),i=(r(146),r(148),r(16)),s=r(24);function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class d extends n.Component{constructor(...e){super(...e),c(this,"createD3Data",e=>this.recurseD3Data(e)),c(this,"recurseD3Data",(function e(t,r=""){let n={name:"",children:null,value:0,color:r,score:" "};void 0!==t.attributes&&null!==t.attributes&&(n.name=t.attributes.TEXT);let a="";if(null!=t.attributes.SCORE&&(a="\n"+t.attributes.SCORE),0===t.elements.length){let e=parseInt(t.attributes.CREATED);n={name:t.attributes.TEXT,value:e,color:r,score:a}}else{null!=t.elements[0].attributes.COLOR&&(r=t.elements[0].attributes.COLOR);let o=[];for(let n=0;n<t.elements.length;n++)"node"===t.elements[n].name&&o.push(e(t.elements[n],r));n={name:t.attributes.TEXT,children:o,color:r,score:a}}return n})),c(this,"constructTree",e=>{const t=10,r=10,n=40,a=window.innerWidth,o=a/20,l=i.c().x(e=>e.y).y(e=>e.x),s=i.e().nodeSize([30,o]).separation((function(e,t){function r(e){if(null==e.children)return 0;let t=e.children.length;for(let n=0;n<e.children.length;n++)t+=r(e.children[n]);return t}let n=0;if(null!=e.children&&(n=r(e)),null!=t.children){let e=r(t);e>n&&(n=e)}return e.parent===t.parent?1+n/1.5:1})),c=i.b(e);c.x0=o/2,c.y0=0,c.descendants().forEach((e,t)=>{e.id=t,e._children=e.children,e.depth&&(e.children=null)});const d=i.d("svg").attr("viewBox",[-n,-t,a,30]).style("font","10px sans-serif").style("user-select","none"),u=d.append("g").attr("fill","none").attr("stroke","#555").attr("stroke-opacity",.4).attr("stroke-width",1.5),p=d.append("g").attr("cursor","pointer").attr("pointer-events","all");return function e(o){const f=i.a&&i.a.altKey?2500:250,h=c.descendants().reverse(),m=c.links();s(c);let y=c,x=c;c.eachBefore(e=>{e.x<y.x&&(y=e),e.x>x.x&&(x=e)});const g=x.x-y.x+t+r,v=d.transition().duration(f).attr("viewBox",[-n,y.x-t,a,g]).tween("resize",window.ResizeObserver?null:()=>()=>d.dispatch("toggle")),b=p.selectAll("g").data(h,e=>e.id),w=b.enter().append("g").attr("transform",e=>`translate(${o.y0},${o.x0})`).attr("fill-opacity",0).attr("stroke-opacity",0);w.append("circle").attr("r",2.5).attr("fill",e=>e._children?"#555":"#999").attr("stroke-width",10).style("fill",e=>e.data.color).on("click",t=>{t.children=t.children?null:t._children,e(t)}),w.append("text").attr("dy","0.31em").attr("x",e=>e._children?-6:6).attr("text-anchor",e=>e._children?"end":"start").text(e=>e.data.name).style("fill",e=>e.data.color).on("click",t=>{t.data.name.includes("http")&&window.open(t.data.name,"_blank"),e(t)}).clone(!0).lower().attr("stroke-linejoin","round").attr("stroke-width",3).attr("stroke","white"),w.append("text").style("font","5px times").attr("dy","0.31em").attr("x",e=>e._children?-10:10).attr("y",10).attr("text-anchor",e=>e._children?"end":"start").text(e=>e.data.score).style("fill",e=>e.data.color).on("click",t=>{t.data.name.includes("http")&&window.open(t.data.name,"_blank"),e(t)}).clone(!0).lower().attr("stroke-linejoin","round").attr("stroke-width",3).attr("stroke","white"),b.merge(w).transition(v).attr("transform",e=>`translate(${e.y},${e.x})`).attr("fill-opacity",1).attr("stroke-opacity",1),b.exit().transition(v).remove().attr("transform",e=>`translate(${o.y},${o.x})`).attr("fill-opacity",0).attr("stroke-opacity",0);const E=u.selectAll("path").data(m,e=>e.target.id),_=E.enter().append("path").attr("d",e=>{const t={x:o.x0,y:o.y0};return l({source:t,target:t})});E.merge(_).transition(v).attr("d",l),E.exit().transition(v).remove().attr("d",e=>{const t={x:o.x,y:o.y};return l({source:t,target:t})}),c.eachBefore(e=>{e.x0=e.x,e.y0=e.y})}(c),d.node()}),c(this,"render",()=>a.a.createElement("div",{className:"Viewer-div"},a.a.createElement("svg",{className:"Viewer-svg",viewBox:200,id:"svg"})))}componentDidMount(){const e=r(155).xml2js(this.props.textFile,{ignoreComment:!0,alwaysChildren:!0}),t=this.createD3Data(e.elements[0].elements[0]),n=this.constructTree(t);this.props.dispatch({type:"SET_TREE",payload:n})}}var u=Object(s.b)(e=>({textFile:e.Viewer.textFile,dispatch:e.Viewer.dispatch}))(d);var p=Object(s.b)(e=>({isUploaded:e.Viewer.isUploaded,textFile:e.Viewer.textFile}))(({isUploaded:e,textFile:t,dispatch:r})=>a.a.createElement("div",null,e?a.a.createElement(u,{textFile:t}):a.a.createElement("div",null,a.a.createElement("input",{type:"file",onChange:e=>(async e=>{e.preventDefault();const t=new FileReader;t.onload=async e=>{const t=e.target.result;r({type:"GET_INPUT_FILE",payload:t})},t.readAsText(e.target.files[0])})(e)})))),f=r(15);const h={isUploaded:!1,textFile:"",data:null,tree:null};var m=(e=h,t)=>{switch(t.type){case"GET_INPUT_FILE":return{...e,isUploaded:!0,textFile:t.payload};case"DELETE_INPUT_FILE":return{...e,textFile:"",isUploaded:!1};case"SET_DATA":return{...e,data:t.payload};case"DELETE_DATA":return{...e,data:null};case"SET_TREE":return{...e,tree:t.payload};case"DELETE_TREE":return{...e,tree:null};default:return e}};var y=Object(f.b)({Viewer:m});const x=Object(f.c)(window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());var g=Object(f.d)(y,x);l.a.render(a.a.createElement(s.a,{store:g},a.a.createElement(p,null)),document.getElementById("root"))}});
//# sourceMappingURL=app~748942c6.025612a19d18e6bd6620.js.map