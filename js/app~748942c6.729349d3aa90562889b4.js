!function(e){function t(t){for(var n,i,l=t[0],s=t[1],c=t[2],u=0,p=[];u<l.length;u++)i=l[u],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&p.push(a[i][0]),a[i]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);for(d&&d(t);p.length;)p.shift()();return o.push.apply(o,c||[]),r()}function r(){for(var e,t=0;t<o.length;t++){for(var r=o[t],n=!0,l=1;l<r.length;l++){var s=r[l];0!==a[s]&&(n=!1)}n&&(o.splice(t--,1),e=i(i.s=r[0]))}return e}var n={},a={0:0},o=[];function i(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=n,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(r,n,function(t){return e[t]}.bind(null,n));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var l=window.webpackJsonp=window.webpackJsonp||[],s=l.push.bind(l);l.push=t,l=l.slice();for(var c=0;c<l.length;c++)t(l[c]);var d=s;o.push([174,1,4,2,5,3]),r()}({146:function(e,t,r){var n=r(63),a=r(147);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var o={insert:"head",singleton:!1};n(a,o);e.exports=a.locals||{}},147:function(e,t,r){(t=r(64)(!1)).push([e.i,'body{margin:0;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Roboto","Oxygen","Ubuntu","Cantarell","Fira Sans","Droid Sans","Helvetica Neue",sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}code{font-family:source-code-pro,Menlo,Monaco,Consolas,"Courier New",monospace}',""]),e.exports=t},148:function(e,t,r){var n=r(63),a=r(149);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var o={insert:"head",singleton:!1};n(a,o);e.exports=a.locals||{}},149:function(e,t,r){(t=r(64)(!1)).push([e.i,".App{text-align:center}.App-logo{height:40vmin;pointer-events:none}@media(prefers-reduced-motion: no-preference){.App-logo{animation:App-logo-spin infinite 20s linear}}.App-header{background-color:#282c34;min-height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:center;font-size:calc(10px + 2vmin);color:#fff}.App-link{color:#61dafb}.Viewer-div{overflow-x:scroll !important}@keyframes App-logo-spin{from{transform:rotate(0deg)}to{transform:rotate(360deg)}}",""]),e.exports=t},160:function(e,t){},162:function(e,t){},174:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),o=r(34),i=r.n(o),l=(r(146),r(148),r(5)),s=r(24);function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class d extends n.Component{constructor(...e){super(...e),c(this,"createD3Data",e=>this.recurseD3Data(e)),c(this,"recurseD3Data",(function e(t,r=""){let n={name:"",children:null,value:0,color:r,score:" "};void 0!==t.attributes&&null!==t.attributes&&(n.name=t.attributes.TEXT);let a="";if(null!=t.attributes.SCORE&&(a="\n"+t.attributes.SCORE),0===t.elements.length){let e=parseInt(t.attributes.CREATED);n={name:t.attributes.TEXT,value:e,color:r,score:a}}else{null!=t.elements[0].attributes.COLOR&&(r=t.elements[0].attributes.COLOR);let o=[];for(let n=0;n<t.elements.length;n++)"node"===t.elements[n].name&&o.push(e(t.elements[n],r));""==r&&(r="#000000"),n={name:t.attributes.TEXT,children:o,color:r,score:a}}return n})),c(this,"constructTree",e=>{const t=10,r=40,n=window.innerWidth,a=n/4,o=l.c().x(e=>e.y).y(e=>e.x),i=l.e().nodeSize([30,a]).separation((function(e,t){function r(e){if(null==e.children)return 0;let t=e.children.length;for(let n=0;n<e.children.length;n++)t+=r(e.children[n]);return t}let n=0;if(null!=e.children&&(n=r(e)),null!=t.children){let e=r(t);e>n&&(n=e)}return e.parent===t.parent?1+n/1.5:1})),s=l.b(e);s.x0=a/2,s.y0=30,s.descendants().forEach((e,t)=>{e.id=t,e._children=e.children,e.depth&&(e.children=null)});const c=l.d("svg").attr("viewBox",[-r,-t,n,30]).style("font","10px sans-serif").style("user-select","none").call(l.f().extent([[0,0],[n,30]]).scaleExtent([.5,5]).on("zoom",(function(){l.d("g").attr("transform",l.a.transform)}))),d=c.append("g").attr("fill","none").attr("stroke","#000").attr("stroke-opacity",.4).attr("stroke-width",1.5),u=c.select("g").append("g").attr("cursor","pointer").attr("pointer-events","all").attr("stroke-opacity",1).attr("stroke-width",0);return function e(n){const a=l.a&&l.a.altKey?2500:250,p=s.descendants().reverse(),f=s.links();i(s);let h=s,m=s;s.eachBefore(e=>{e.x<h.x&&(h=e),e.x>m.x&&(m=e)}),m.x,h.x;const y=c.transition().duration(a).attr("viewBox",[-r,h.x-t,window.innerWidth,window.innerHeight]).tween("resize",window.ResizeObserver?null:()=>()=>c.dispatch("toggle")),x=u.selectAll("g").data(p,e=>e.id),g=x.enter().append("g").attr("transform",e=>`translate(${n.y0},${n.x0})`).attr("fill-opacity",1).attr("stroke-opacity",1);g.append("circle").attr("cx",e=>e._children?0:1).attr("r",e=>e._children?2.5:1).attr("stroke",e=>e._children?"none":e.data.color).attr("stroke-width",5).style("fill",e=>e._children?e.data.color:"none").on("click",t=>{t.children=t.children?null:t._children,e(t)}),g.append("text").attr("dy","0.31em").attr("x",e=>e._children?-6:6).attr("y",e=>e._children?-7:0).attr("text-anchor",e=>e._children?"end":"start").text(e=>e.data.name).style("fill","#000").on("click",t=>{t.data.name.includes("http")&&window.open(t.data.name,"_blank"),e(t)}).clone(!0).lower().attr("stroke-linejoin","round").attr("stroke-width",3).attr("stroke","white"),g.append("text").style("font","5px times").attr("dy","0.31em").attr("x",e=>e._children?-10:10).attr("y",10).attr("text-anchor",e=>e._children?"end":"start").text(e=>e.data.score).style("fill","#000").on("click",t=>{t.data.name.includes("http")&&window.open(t.data.name,"_blank"),e(t)}).clone(!0).lower().attr("stroke-linejoin","round").attr("stroke-width",3).attr("stroke","white"),x.merge(g).transition(y).attr("transform",e=>`translate(${e.y},${e.x})`).attr("fill-opacity",1).attr("stroke-opacity",1),x.exit().transition(y).remove().attr("transform",e=>`translate(${n.y},${n.x})`).attr("fill-opacity",0).attr("stroke-opacity",0);const v=d.selectAll("path").data(f,e=>e.target.id),w=v.enter().append("path").attr("d",e=>{const t={x:n.x0,y:n.y0};return o({source:t,target:t})}).attr("stroke",(function(e){return e.target.data.color}));v.merge(w).transition(y).attr("d",o),v.exit().transition(y).remove().attr("d",e=>{const t={x:n.x,y:n.y};return o({source:t,target:t})}),s.eachBefore(e=>{e.x0=e.x,e.y0=e.y})}(s),c.node()}),c(this,"render",()=>a.a.createElement("div",{className:"Viewer-div",id:"viewer_div"},a.a.createElement("svg",{className:"Viewer-svg",viewBox:"0 0 30 30",id:"svg"})))}componentDidMount(){const e=r(155).xml2js(this.props.textFile,{ignoreComment:!0,alwaysChildren:!0}),t=this.createD3Data(e.elements[0].elements[0]),n=this.constructTree(t);this.props.dispatch({type:"SET_TREE",payload:n})}}var u=Object(s.b)(e=>({textFile:e.Viewer.textFile,dispatch:e.Viewer.dispatch}))(d);var p=Object(s.b)(e=>({isUploaded:e.Viewer.isUploaded,textFile:e.Viewer.textFile}))(({isUploaded:e,textFile:t,dispatch:r})=>a.a.createElement("div",null,e?a.a.createElement(u,{textFile:t}):a.a.createElement("div",null,a.a.createElement("input",{type:"file",onChange:e=>(async e=>{e.preventDefault();const t=new FileReader;t.onload=async e=>{const t=e.target.result;r({type:"GET_INPUT_FILE",payload:t})},t.readAsText(e.target.files[0])})(e)})))),f=r(16);const h={isUploaded:!1,textFile:"",data:null,tree:null};var m=(e=h,t)=>{switch(t.type){case"GET_INPUT_FILE":return{...e,isUploaded:!0,textFile:t.payload};case"DELETE_INPUT_FILE":return{...e,textFile:"",isUploaded:!1};case"SET_DATA":return{...e,data:t.payload};case"DELETE_DATA":return{...e,data:null};case"SET_TREE":return{...e,tree:t.payload};case"DELETE_TREE":return{...e,tree:null};default:return e}};var y=Object(f.b)({Viewer:m});const x=Object(f.c)(window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());var g=Object(f.d)(y,x);i.a.render(a.a.createElement(s.a,{store:g},a.a.createElement(p,null)),document.getElementById("root"))}});
//# sourceMappingURL=app~748942c6.729349d3aa90562889b4.js.map